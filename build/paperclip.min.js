(function(){var z={},m={},C=function(h){if(z[h])return z[h];var g={exports:{}},f=m[h];if(!f){try{return require(h)}catch(a){}throw Error("unable to load "+h);}return z[h]=g.exports=f(C,g,g.exports,h)},D=function(h,g){m[h]=g};"undefined"==typeof global&&(global=window);"undefined"==typeof window&&(global.window=global);"undefined"==typeof window.process&&(window.process={});m["paperclip/lib/index.js"]=function(h,g){var f,a;f=h("paperclip/lib/clip/index.js");a=h("paperclip/lib/paper/index.js");var d=
function(){};d.prototype.attach=function(c,b){return(new a.DOM).attach(c,b)};g.exports=function(){return new d};g.exports.Clip=f;g.exports.Paper=a;g.exports.bindable=h("bindable/lib/index.js");"undefined"!==typeof window&&(window.paperclip=g.exports);return g.exports};m["paperclip/lib/clip/index.js"]=function(h,g){var f,a,d,c,b,e={}.hasOwnProperty;d=h("dref/lib/index.js");c=h("events/index.js");f=h("bindable/lib/index.js");b=h("paperclip/lib/clip/utils/findRefs.js");a=h("paperclip/lib/clip/modifiers/index.js");
var j=function(a){this.watcher=a;this._commands=[];this.clip=this.watcher.clip};j.prototype.__isPropertyChain=!0;j.prototype.ref=function(a){this._commands.push({ref:a});return this};j.prototype.castAs=function(a){this.watcher.cast[a]=this;return this};j.prototype.path=function(){var a,c,b,d,e;c=[];e=this._commands;b=0;for(d=e.length;b<d;b++)a=e[b],c.push(a.ref);return c.join(".")};j.prototype.self=function(a){this._self=!0;this.ref(a);return this};j.prototype.call=function(a,c){this._commands.push({ref:a,
args:c});return this};j.prototype.exec=function(){this.currentValue=this.value();return this};j.prototype.value=function(a){var c,b,e,k,j,f,n,g;e=arguments.length;b=this._self?this.clip:this.clip.data;j=this._commands.length;g=this._commands;k=f=0;for(n=g.length;f<n&&!(c=g[k],this.watcher._watch(c.ref,b),k===j-1&&e&&(b.set?b.set(c.ref,a):d.set(b,c.ref,a)),k=b,b=b.get?b.get(c.ref):d.get(b,c.ref),c.args&&(b=b&&"function"===typeof b?null!=b?b.apply(k,c.args):void 0:void 0),!b);k=++f);this.watcher.currentRef=
this;return b};var k=function(c,b){this.script=c;this.clip=b;var d=this.update,e=this;this.update=function(){return d.apply(e,arguments)};this.modifiers=this.clip.modifiers;this.defaultModifiers=a;this.options=this.clip.options;this._watching={};this.cast={}};c=c.EventEmitter;var n=function(){this.constructor=k},r;for(r in c)e.call(c,r)&&(k[r]=c[r]);n.prototype=c.prototype;k.prototype=new n;k.__super__=c.prototype;k.prototype.dispose=function(){for(var a in this._watching)this._watching[a].binding.dispose();
return this._watching={}};k.prototype.update=function(){var a;a=this.script.call(this);if(a===this.value)return a;this.emit("change",this.value=a);return a};k.prototype.watch=function(){this.__watch=!0;this.update();return this};k.prototype.references=function(){return!this.script.expression?[]:b(this.script.expression)};k.prototype.modify=function(a,c){var b;this.currentRefs=c.filter(function(a){return a.__isPropertyChain});b=a.apply(this,c.map(function(a){return a.__isPropertyChain?a.value():a}));
this.currentRefs=[];return b};k.prototype.ref=function(a){return(new j(this)).ref(a)};k.prototype.self=function(a){return(new j(this)).self(a)};k.prototype.call=function(a,c){return(new j(this)).call(a,c)};k.prototype.castAs=function(a){return(new j(this)).castAs(a)};k.prototype._watch=function(a,c){if(this.__watch){if(this._watching[a]){if(this._watching[a].target===c)return;this._watching[a].binding.dispose()}return this._watching[a]={target:c,binding:c.bind(a).watch(!0).to(this.update)}}};var s=
function(a,c){this.clip=a;this._scripts={};this.names=[];this._bindScripts(c)};s.prototype.watch=function(){for(var a in this._scripts)this._scripts[a].watch();return this};s.prototype.update=function(){for(var a in this._scripts)this._scripts[a].update();return this};s.prototype.dispose=function(){for(var a in this._scripts)this._scripts[a].dispose();return this._scripts={}};s.prototype.get=function(a){return this._scripts[a]};s.prototype._bindScripts=function(a){var c,b;if("function"===typeof a)return this._bindScript("value",
a);b=[];for(c in a)b.push(this._bindScript(c,a[c]));return b};s.prototype._bindScript=function(a,c){var b,d=this;this.names.push(a);b=new k(c,this.clip);this._scripts[a]=b;return b.on("change",function(c){return d.clip.set(a,c)})};e=function(a){var c;this.options=a;this._self=new f.Object;this.data=new f.Object(a.data||{});this.modifiers=a.modifiers||{};if(c=this.options.scripts||this.options.script)this.scripts=new s(this,c);!1!==a.watch&&this.watch()};e.prototype.watch=function(){this.scripts.watch();
return this};e.prototype.update=function(){this.scripts.update();return this};e.prototype.dispose=function(){var a,c;null!=(a=this._self)&&a.dispose();null!=(c=this.scripts)&&c.dispose();return this._scripts=this._self=void 0};e.prototype.script=function(a){return this.scripts.get(a)};e.prototype.get=function(){var a;return(a=this._self).get.apply(a,arguments)};e.prototype.set=function(){var a;return(a=this._self).set.apply(a,arguments)};e.prototype.bind=function(){var a;return(a=this._self).bind.apply(a,
arguments)};g.exports=e;g.exports.modifiers=a;g.exports.compile=h("paperclip/lib/clip/compile.js");return g.exports};m["paperclip/lib/paper/index.js"]=function(h,g,f){f.DOM=h("paperclip/lib/paper/dom/index.js");f.Template=h("paperclip/lib/paper/template/index.js");return g.exports};m["bindable/lib/index.js"]=function(h,g,f){var a;a=h("bindable/lib/object/binding.js");f.Object=h("bindable/lib/object/index.js");f.Collection=h("bindable/lib/collection/index.js");f.EventEmitter=h("bindable/lib/core/eventEmitter.js");
a.Collection=f.Collection;return g.exports};m["dref/lib/index.js"]=function(h,g,f){var a=global._gss=global._gss||[],d=h("type-component/index.js"),c=function(c){for(var b=a.length;b--;){var d=a[b];if(d.test(c))return d}},b=function(a,b){var d=c(a);return d?d.get(a,b):a[b]},e=function(a,b,d){var e=c(a);return e?e.set(a,b,d):a[b]=d},j=function(a,f,g,h,v){v||(a=("array"===d(a)?a:a.split(".")).filter(function(a){return!!a.length}),v=[],h=0);for(var p,m,q=a.length;h<q;h++){m=a[h];p=b(f,m);if("$"==m){p=
f;for(p=(q=c(p))?q.length(p):p.length;p--;)j(a,b(f,p),g,h+1,v);return v}if(void 0==p||null==p){if(!g)return v;e(f,m,{});p=b(f,m)}f=p}p?v.push(p):v.push(f);return v};f.get=function(a,c){c=String(c);var b=j(c,a);return-1==c.indexOf(".$.")?b[0]:b};f.set=function(a,c,b){c=String(c);var d=c.split(".");c=d.pop();"$"==c&&(c=d.pop());a=j(d,a,!0);for(d=a.length;d--;)e(a[d],c,b)};f.use=function(c){a.push(c)};return g.exports};m["events/index.js"]=function(h,g,f){function a(){}var d=Array.isArray;f.EventEmitter=
a;a.prototype.setMaxListeners=function(a){this._events||(this._events={});this._events.maxListeners=a};a.prototype.emit=function(){var a=arguments[0];if("error"===a&&(!this._events||!this._events.error||d(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}if(!this._events)return!1;var b=this._events[a];if(!b)return!1;if("function"==typeof b){switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,
arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:for(var a=arguments.length,e=Array(a-1),j=1;j<a;j++)e[j-1]=arguments[j];b.apply(this,e)}return!0}if(d(b)){a=arguments.length;e=Array(a-1);for(j=1;j<a;j++)e[j-1]=arguments[j];b=b.slice();j=0;for(a=b.length;j<a;j++)b[j].apply(this,e);return!0}return!1};a.prototype.addListener=function(a,b){if("function"!==typeof b)throw Error("addListener only takes instances of Function");this._events||(this._events={});this.emit("newListener",
a,b);if(this._events[a])if(d(this._events[a])){if(this._events[a].push(b),!this._events[a].warned){var e;if((e=void 0!==this._events.maxListeners?this._events.maxListeners:100)&&0<e&&this._events[a].length>e)this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace()}}else this._events[a]=[this._events[a],b];else this._events[a]=b;return this};a.prototype.on=
a.prototype.addListener;a.prototype.once=function(a,b){function d(){j.removeListener(a,d);b.apply(this,arguments)}if("function"!==typeof b)throw Error(".once only takes instances of Function");var j=this;d.listener=b;j.on(a,d);return this};a.prototype.removeListener=function(a,b){if("function"!==typeof b)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[a])return this;var e=this._events[a];if(d(e)){for(var j=-1,k=0,f=e.length;k<f;k++)if(e[k]===b||e[k].listener&&
e[k].listener===b){j=k;break}if(0>j)return this;e.splice(j,1);0==e.length&&delete this._events[a]}else(e===b||e.listener&&e.listener===b)&&delete this._events[a];return this};a.prototype.removeAllListeners=function(a){if(0===arguments.length)return this._events={},this;a&&(this._events&&this._events[a])&&(this._events[a]=null);return this};a.prototype.listeners=function(a){this._events||(this._events={});this._events[a]||(this._events[a]=[]);d(this._events[a])||(this._events[a]=[this._events[a]]);
return this._events[a]};return g.exports};m["paperclip/lib/clip/utils/findRefs.js"]=function(h,g){g.exports=function(f,a){var d,c,b,e;null==a&&(a=[]);"refPath"===f._type&&a.push(f);e=f._children;c=0;for(b=e.length;c<b;c++)d=e[c],g.exports(d,a);return a};return g.exports};m["paperclip/lib/clip/modifiers/index.js"]=function(h,g){g.exports={uppercase:function(f){return String(f).toUpperCase()},lowercase:function(f){return String(f).toLowerCase()},json:function(f,a,d){return JSON.stringify.apply(JSON,
arguments)},replace:function(f,a){return a}};return g.exports};m["paperclip/lib/clip/compile.js"]=function(h,g){var f,a;f=h("paperclip/lib/clip/parser.js");var d=function(){this._parser=new f};d.prototype.compile=function(a){var b,d,j,k;b=this._parser.parse(a);a={};if("actions"!==b._type)return this._getScript(b);k=b.items;d=0;for(j=k.length;d<j;d++)b=k[d],a[b.name]=this._getScript(b.options);return a};d.prototype._getScript=function(a,b){var d;d=new Function("return "+a);d.expression=a;d.source=
b;return d};a=new d;g.exports=function(c){return a.compile(c)};return g.exports};m["bindable/lib/object/binding.js"]=function(h,g){var f,a,d,c,b=function(a,b){return function(){return a.apply(b,arguments)}};f=new (h("bindable/lib/object/setters/factory.js"));c=h("bindable/lib/core/utils.js");h("hoist/lib/index.js");d=h("toarray/index.js");a=h("bindable/lib/object/deepPropertyWatcher.js");var e=function(a,c){this._from=a;this._property=c;this._trigger=b(this._trigger,this);this.dispose=b(this.dispose,
this);this._limit=-1;this._setters=[];this._triggerCount=0;this._listen()};e.prototype.__isBinding=!0;e.prototype.watch=function(a){if(!arguments.length)return this._watch;this._watch=a;return this};e.prototype.collection=function(){if(this._collectionBinding)return this._collectionBinding;this._collection=new e.Collection;this.to(this._collection.source);return this._collectionBinding=this._collection.bind().copyId(!0)};e.prototype.to=function(a,b){var c;(c=f.createSetter(this,a,b))&&this._setters.push(c);
return this};e.prototype.from=function(a,b){1===arguments.length&&(b=a,a=this._from);return a.bind(b).to(this._from,this._property)};e.prototype.transform=function(a){if(!arguments.length)return this._transform;this._transform=c.transformer(a);return this};e.prototype._transformer=function(){return this._transform||(this._transform=c.transformer(options))};e.prototype.once=function(){return this.limit(0)};e.prototype.limit=function(a){this._limit=a;return this};e.prototype.isBothWays=function(){return!!this._boundBothWays};
e.prototype.bothWays=function(){if(this._boundBothWays)return this;this._boundBothWays=!0;this._callSetterFns("bothWays");return this};e.prototype.dispose=function(){this._callSetterFns("dispose");this._setters=[];this._collectionBinding&&this._collectionBinding.dispose();this._listener&&(this._listener.dispose(),this._disposeListener.dispose());this._disposeListener=this._listener=void 0;return this};e.prototype._trigger=function(){this._callSetterFns("change",[this._from.get(this._property)]);~this._limit&&
++this._triggerCount>this._limit&&this.dispose();return this};e.prototype._callSetterFns=function(a,b){var c,d,e,f,g;f=this._setters;g=[];d=0;for(e=f.length;d<e;d++)c=f[d],g.push(c[a].apply(c,b||[]));return g};e.prototype._listen=function(){this._listener=a.create({target:this._from,property:this._property,callback:this._trigger});return this._disposeListener=this._from.once("dispose",this.dispose)};g.exports=e;e.fromOptions=function(a,b){var c,e,f,g,h;c=a.bind(b.property||b.from);f=d(b.to);g=0;for(h=
f.length;g<h;g++)e=f[g],e="object"===typeof e?e.property:{property:e},e.transform&&bindings.transform(e.transform),c.to(e.property);b.limit&&c.limit(b.limit);if(b.once)c.once();b.bothWays&&c.bothWays();return c};return g.exports};m["bindable/lib/object/index.js"]=function(h,g){var f,a,d,c,b;f={}.hasOwnProperty;b=h("bindable/lib/object/dref.js");h("dref/lib/index.js").use(h("bindable/lib/shim/dref.js"));c=h("bindable/lib/core/eventEmitter.js");a=h("bindable/lib/object/binding.js");d=h("bindable/lib/core/builder.js");
var e=function(a){e.__super__.constructor.call(this);this._initData(a);this._bindings=[]},j=e,k=function(){this.constructor=j},n;for(n in c)f.call(c,n)&&(j[n]=c[n]);k.prototype=c.prototype;j.prototype=new k;j.__super__=c.prototype;e.prototype.__isBindable=!0;e.prototype._initData=function(a){this.data=null!=a?a:{}};e.prototype.get=function(a,c){var d;null==c&&(c=!1);return null!=(d=b.get(this.data,a,c))?d:b.get(this[a.split(".").shift()],a.split(".").slice(1).join("."),c)};e.prototype.getFlatten=
function(a){return this.get(a,!0)};e.prototype.has=function(a){return!!this.get(a)};e.prototype.set=function(a,b){var c;if(1===arguments.length)for(c in a)this.set(c,a[c]);else if(b&&b.__isBinding)b.to(this,a);else return this._set(a,b)};e.prototype._set=function(a,c){if(!b.set(this,a,c))return this;this.emit("change:"+a,c);this.emit("change",c);return this};e.prototype._ref=function(a,c){return!c?a:b.get(a,c)};e.prototype.bind=function(b,c){if("object"===typeof b)return a.fromOptions(this,b);if(c&&
c.__isBinding)this.set(b,c);else return(new a(this,b)).to(c)};e.prototype.dispose=function(){return this.emit("dispose")};e.prototype.toJSON=function(){return this.data};g.exports=f=e;new d(a,f);g.exports.EventEmitter=c;g.exports.propertyWatcher=h("bindable/lib/object/deepPropertyWatcher.js");return g.exports};m["bindable/lib/collection/index.js"]=function(h,g){var f,a,d,c,b=function(a,b){return function(){return a.apply(b,arguments)}},e={}.hasOwnProperty;a=h("dref/lib/index.js");f=h("bindable/lib/collection/binding.js");
h("bindable/lib/core/eventEmitter.js");c=h("type-component/index.js");d=h("hoist/lib/index.js");var j=h("bindable/lib/object/index.js"),k=function(a,d){null==a&&(a=[]);null==d&&(d="_id");this._enforceItemId=b(this._enforceItemId,this);this.reset=b(this.reset,this);this.source=b(this.source,this);k.__super__.constructor.call(this);this._source=[];"string"===c(a)&&(d=a,a=[]);this._length=0;this._id(d);this.__enforceId=!0;this.transform().postMap(this._enforceItemId);this.reset(a)},n=k,r=function(){this.constructor=
n},s;for(s in j)e.call(j,s)&&(n[s]=j[s]);r.prototype=j.prototype;n.prototype=new r;n.__super__=j.prototype;k.prototype.__isCollection=!0;k.prototype.empty=function(){return!this._length};k.prototype.length=function(){return this._length};k.prototype.source=function(a){return!arguments.length?this._source:this.reset(a)};k.prototype.reset=function(a){a||(a=[]);this.disposeSourceBinding();this._remove(this._source||[]);if(a.__isCollection)return this._source=[],this._id(a._id()),this._sourceBinding=
a.bind().to(this),this;this._insert(this._source=this._transform(a));return this};k.prototype.disposeSourceBinding=function(){if(this._sourceBinding)return this._sourceBinding.dispose(),this._sourceBinding=void 0};k.prototype.bind=function(a){return"string"===c(a)?k.__super__.bind.apply(this,arguments):(new f(this)).to(a)};k.prototype.set=function(a,b){var c;c=Number(a);return isNaN(c)?k.__super__.set.apply(this,arguments):this.splice(c,b)};k.prototype.get=function(a){var b;b=Number(a);return isNaN(b)?
k.__super__.get.call(this,a):this.at(b)};k.prototype.at=function(a){return this._source[a]};k.prototype.first=function(){return this._source[0]};k.prototype.last=function(){return this._source[this._length-1]};k.prototype.update=function(){};k.prototype.remove=function(a){a=this.indexOf(a);if(!~a)return!1;this.splice(a,1);return!0};k.prototype.filter=function(a){return this._source.filter(a)};k.prototype.splice=function(a,b){var c,d;c=Array.prototype.slice.call(arguments);c.splice(0,2);c=this._transform(c);
d=this.slice(a,a+b);this._source.splice.apply(this._source,arguments);this._remove(d,a);return this._insert(c,a)};k.prototype.transform=function(){return this._transformer||(this._transformer=d())};k.prototype.slice=function(a,b){return this._source.slice(a,b)};k.prototype.indexOf=function(b){var c,d,e,j,k;k=this._source;c=e=0;for(j=k.length;e<j;c=++e)if(d=k[c],a.get(d,this.__id)===a.get(b,this.__id))return c;return-1};k.prototype._id=function(a){if(!arguments.length)return this.__id;if(this.__id===
a)return this;this.__id=a;this._source&&this._enforceId();return this};k.prototype.push=function(){var a;a=this._transform(Array.prototype.slice.call(arguments));this._source.push.apply(this._source,a);return this._insert(a,this._length)};k.prototype.unshift=function(){var a;a=this._transform(Array.prototype.slice.call(arguments));this._source.unshift.apply(this._source,a);return this._insert(a)};k.prototype.toJSON=function(){var a,b,c,d,e;b=[];e=this._source;c=0;for(d=e.length;c<d;c++)a=e[c],b.push(("function"===
typeof a.toJSON?a.toJSON():void 0)||a);return b};k.prototype.pop=function(){return this._remove([this._source.pop()],this._length)[0]};k.prototype.shift=function(){return this._remove([this._source.shift()],0)[0]};k.prototype.enforceId=function(a){return!arguments.length?this.__enforceId:this.__enforceId=a};k.prototype._enforceId=function(){var a,b,c,d,e;d=this._source;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(this._enforceItemId(a));return e};k.prototype._enforceItemId=function(b){var c;if(!this.__enforceId)return b;
c=a.get(b,this.__id);if(void 0===c||null===c)throw Error("item '"+b+"' must have a '"+this.__id+"'");return b};k.prototype._insert=function(a,b){var c,d,e,j;null==b&&(b=0);if(a.length){this._length+=a.length;this._resetInfo();c=e=0;for(j=a.length;e<j;c=++e)d=a[c],this.emit("insert",d,b+c);return a}};k.prototype._remove=function(a,b){var c,d,e,j;null==b&&(b=0);if(a.length){this._length-=a.length;this._resetInfo();c=e=0;for(j=a.length;e<j;c=++e)d=a[c],this.emit("remove",d,b+c);return a}};k.prototype._resetInfo=
function(){this.set("length",this._length);return this.set("empty",!this._length)};k.prototype._transform=function(a){var b,d,e,j;if(!this._transformer)return a;if("array"===c(a)){d=[];e=0;for(j=a.length;e<j;e++)b=a[e],d.push(this._transformer(b));return d}return this._transformer(a)};g.exports=k;return g.exports};m["bindable/lib/core/eventEmitter.js"]=function(h,g){var f,a,d,c={}.hasOwnProperty;a=h("events/index.js");f=h("disposable/lib/index.js");var b=function(){return d=b.__super__.constructor.apply(this,
arguments)},e=b;a=a.EventEmitter;var j=function(){this.constructor=e},k;for(k in a)c.call(a,k)&&(e[k]=a[k]);j.prototype=a.prototype;e.prototype=new j;e.__super__=a.prototype;b.prototype.on=function(a,c){var d,e,j=this;d=f.create();if(1===arguments.length){for(e in a)d.add(this.on(e,a[e]));return d}e=[];e="string"===typeof a?a.split(" "):a;e.forEach(function(a){b.__super__.on.call(j,a,c);return d.add(function(){return j.off(a,c)})});return d};b.prototype.once=function(a,b){var c;c=this.on(a,function(){c.dispose();
return b.apply(this,arguments)});c.target=this;return c};b.prototype.off=function(a,b){return this.removeListener(a,b)};g.exports=b;return g.exports};m["paperclip/lib/paper/dom/index.js"]=function(h,g){var f;f=h("paperclip/lib/paper/dom/decor/index.js");var a=function(){this._decorFactory=new f};a.prototype.attach=function(a,c){var b=this;return this._traverse(this._element(c),function(c){var j,k,f;if(c=b._decorFactory.attach(a,c)){k=0;for(f=c.length;k<f;k++)j=c[k],j.dom=b,j.init(),j=!1!==j;if(!1===
j)return!1}})};a.prototype._traverse=function(a,c){var b,e,j,k,f;if("#comment"!==a.nodeName&&(b=c(a),!1!==b)){k=a.childNodes;f=[];e=0;for(j=k.length;e<j&&!(b=k[e],!1===this._traverse(b,c));e++)f.push(void 0);return f}};a.prototype._element=function(a){return a[0]||a};g.exports=a;return g.exports};m["paperclip/lib/paper/template/index.js"]=function(h,g){var f,a,d,c,b,e={}.hasOwnProperty;a=h("paperclip/lib/paper/template/parser.js");f=h("paperclip/lib/clip/index.js");h("events/index.js");c=h("bindable/lib/index.js");
var j=function(a,b){this.renderer=a;this.fn=b;var c=this.update,d=this;this.update=function(){return c.apply(d,arguments)};this.clip=new f({script:this.fn,data:this.renderer._data});this.clip.bind("value").watch(!0).to(this.update);this.value=this.clip.get("value")};j.prototype.dispose=function(){return this.clip.dispose()};j.prototype.update=function(a){this.value=a;return this.renderer.update()};j.prototype.toString=function(){return String(this.value)};var k=function(a,b){this._data=a;this.fn=
b;k.__super__.constructor.call(this);this.buffer=[];this.bindings=[];this.fn.call(this);this.update()},n=k;c=c.Object;var r=function(){this.constructor=n},s;for(s in c)e.call(c,s)&&(n[s]=c[s]);r.prototype=c.prototype;n.prototype=new r;n.__super__=c.prototype;k.prototype.dispose=function(){var a,b,c,d;d=this.bindings;b=0;for(c=d.length;b<c;b++)a=d[b],a.dispose();return this.bindings=[]};k.prototype.push=function(a){this.buffer.push(a);return this};k.prototype.pushScript=function(a){this.buffer.push(a=
new j(this,a));this.bindings.push(a);return this};k.prototype.update=function(){return this.set("text",this.text=this.render())};k.prototype.render=function(){return this.buffer.join("")};k.prototype.toString=function(){return this.text};d=k;b=new a;a=function(a){this.fn=new Function("return "+b.parse(a))};a.prototype.render=function(a){return new d(a,this.fn)};g.exports=a;return g.exports};m["type-component/index.js"]=function(h,g){var f=Object.prototype.toString;g.exports=function(a){switch(f.call(a)){case "[object Function]":return"function";
case "[object Date]":return"date";case "[object RegExp]":return"regexp";case "[object Arguments]":return"arguments";case "[object Array]":return"array"}return null===a?"null":void 0===a?"undefined":a===Object(a)?"object":typeof a};return g.exports};m["paperclip/lib/clip/parser.js"]=function(h,g){var f,a,d,c,b,e,j,k,n,r,s,m,p,w,q,B,A={}.hasOwnProperty;B=h("paperclip/lib/clip/tokenizer.js");q=B.codes;d=h("paperclip/lib/base/parser.js");b=h("paperclip/lib/clip/expressions/fn.js");j=h("paperclip/lib/clip/expressions/js.js");
s=h("paperclip/lib/clip/expressions/ref.js");e=h("paperclip/lib/clip/expressions/group.js");r=h("paperclip/lib/clip/expressions/params.js");p=h("paperclip/lib/clip/expressions/script.js");f=h("paperclip/lib/clip/expressions/action.js");w=h("paperclip/lib/clip/expressions/string.js");a=h("paperclip/lib/clip/expressions/actions.js");n=h("paperclip/lib/clip/expressions/options.js");m=h("paperclip/lib/clip/expressions/refPath.js");k=h("paperclip/lib/clip/expressions/modifier.js");c=h("paperclip/lib/base/collectionExpression.js");
var u=function(){u.__super__.constructor.call(this,new B)},x=u,E=function(){this.constructor=x},y;for(y in d)A.call(d,y)&&(x[y]=d[y]);E.prototype=d.prototype;x.prototype=new E;x.__super__=d.prototype;u.prototype._parse=function(){switch(this._nextCode()){case q.VAR:return this._parseActionsOrOptions();case q.LB:return this._parseMultiOptions();default:return this._parseReference()}};u.prototype._parseActionsOrOptions=function(){var b,c;b=[];if(!(c=this._t.peekNext())||c[0]!==q.COLON)return this._parseActionOptions();
for(;this._t.current;)b.push(this._parseAction()),this._currentCode()===q.SEMI_COLON&&this._nextCode();return new a(b)};u.prototype._parseAction=function(){var a;a=this._currentString();this._expectNextCode(q.COLON);this._nextCode();return new f(a,this._parseActionOptions())};u.prototype._parseActionOptions=function(){switch(this._currentCode()){case q.LB:return this._parseMultiOptions();default:return this._parseReference()}};u.prototype._parseMultiOptions=function(){var a,b,c;a=this._currentCode();
for(c=[];a&&(a=this._currentCode())!==q.RB;)this._nextCode(),b={name:this._currentString()},this._expectNextCode(q.COLON),this._nextCode(),b.expression=this._parseActionOptions(),c.push(b);this._nextCode();return new n(c)};u.prototype._parseReference=function(){var a,b;for(b=[];a=this._currentCode();){a===q.VAR&&(b.push(this._parseRef()),a=this._currentCode());a===q.LP&&(b.push(this._parseGroup()),a=this._currentCode());a===q.LB&&(b.push(this._parseActionOptions()),a=this._currentCode());a===q.STRING&&
(b.push(new w(this._currentString())),a=this._nextCode());for(;a===q.PIPE;)this._nextCode(),b.push(this._parsePipe(b.pop())),a=this._currentCode();if(~[q.RP,q.RB].indexOf(a))break;if(!a||~[q.SEMI_COLON,q.COMA].indexOf(a))break;b.push(new j(this._currentString()));this._nextCode()}this._currentCode()===q.SEMI_COLON&&this._nextCode();return new p(new c(b))};u.prototype._parsePipe=function(a){var b;b=this._currentString();this._nextCode();return new k(b,this._parseParams(),a)};u.prototype._parseParams=
function(){return new r(this._parseParams2())};u.prototype._parseParams2=function(){var a,b;this._expectCurrentCode(q.LP);for(b=[];(a=this._nextCode())&&a!==q.RP&&!(b.push(this._parseReference()),a=this._currentCode(),a!==q.COMA););this._nextCode();return b};u.prototype._parseGroup=function(){return new e(this._parseParams2())};u.prototype._parseRef=function(){var a,c,d,e,j;c=this._currentCode();j=[];for(a=null;c===q.VAR;)e=this._currentString(),(c=this._nextCode())===q.LP?(j.push(new b(e,this._parseParams())),
c=this._currentCode()):j.push(new s(e)),c===q.DOT&&(c=this._nextCode());c===q.AS&&(this._nextCode(),d=this._currentString(),this._nextCode());c===q.ASSIGN&&(this._nextCode(),a=this._parseReference());return new m(j,d,a)};g.exports=u;return g.exports};m["bindable/lib/object/setters/factory.js"]=function(h,g){var f,a,d;d=h("bindable/lib/object/setters/fn.js");f=h("bindable/lib/object/setters/bindable.js");a=h("bindable/lib/object/setters/collection.js");var c=function(){};c.prototype.createSetter=function(b,
c,j){var k,g,h;k=h=g=null;if(!c&&!j)return null;if("string"===typeof j)g=c,h=j;else if("string"===typeof c)g=b._from,h=c;else if("function"===typeof c)k=c;else if("object"===typeof c&&c){if(c.__isBinding)throw Error("Cannot bind to a binding.");if(c.__isCollection)return new a(b,c)}return k?new d(b,k):g&&h?new f(b,g,h):null};g.exports=c;return g.exports};m["bindable/lib/core/utils.js"]=function(h,g,f){var a;a=h("hoist/lib/index.js");f.tryTransform=function(a,c,b,e){return!a?e(null,b):a[c].call(a,
b,e)};f.transformer=function(d){"function"===typeof d&&(d={from:d,to:d});d.from||(d.from=function(a){return a});d.to||(d.to=function(a){return a});return{from:a.map(d.from),to:a.map(d.to)}};return g.exports};m["hoist/lib/index.js"]=function(h,g){var f,a,d,c,b,e;a=h("hoist/lib/transformer.js");g.exports=a;e="cast map preCast preMap postCast postMap".split(" ");d=function(b){return g.exports[b]=function(){var c;c=a();return c[b].apply(c,arguments)}};c=0;for(b=e.length;c<b;c++)f=e[c],d(f);return g.exports};
m["toarray/index.js"]=function(h,g){g.exports=function(f){return void 0===f?[]:"[object Array]"===Object.prototype.toString.call(f)?f:[f]};return g.exports};m["bindable/lib/object/deepPropertyWatcher.js"]=function(h,g){var f,a;h("dref/lib/index.js");f=h("poolparty/lib/index.js");var d=function(a){var b=this._changed,d=this;this._changed=function(){return b.apply(d,arguments)};this.reset(a)};d.prototype.reset=function(a){a.property&&(a.path=a.property.split("."));this.index=a.index||0;this._fullPath=
a.path;this._path=this._fullPath.slice(0,this.index);this._property=this._path.join(".");this.target=a.target;this.callback=a.callback;return this._watch()};d.prototype._dispose=function(){this._listener&&(this._listener.dispose(),this._listener=void 0);this._binding&&(this._binding.dispose(),this._binding=void 0);if(this._child)return this._child.dispose(),this._child=void 0};d.prototype.dispose=function(){this._dispose();return a.add(this)};d.prototype._watch=function(){var c;c=this.target.get(this._property);
this._property.length&&(this._listener=this.target.on("change:"+this._property,this._changed));if(c&&c.__isBindable)return this._binding=a.create({target:c,path:this._fullPath.slice(this.index),callback:this._changed});if(this._path.length<this._fullPath.length)return this._child=a.create({target:this.target,path:this._fullPath,callback:this.callback,index:this.index+1})};d.prototype._changed=function(a){this._dispose();this._watch();return this.callback(a)};a=g.exports=f({max:100,factory:function(a){return new d(a)},
recycle:function(a,b){return a.reset(b)}});return g.exports};m["bindable/lib/object/dref.js"]=function(h,g,f){f.get=function(a,d,c){var b,e,j,k;null==c&&(c=!0);if(a){d=d?d.split("."):[];b=j=0;for(k=d.length;j<k;b=++j){e=d[b];if(!a)return;if(a.__isBindable)return a.get(d.slice(b).join("."));a=a[e]}return c&&a&&a.__isBindable?a.get():a}};f.set=function(a,d,c){var b,e,j,k,f;if(a&&d){d=d.split(".");a=a.data;j=d.length;b=k=0;for(f=d.length;k<f;b=++k){e=d[b];if(a.__isBindable)return a.set(d.slice(b).join("."),
c);if(b===j-1){if(a[e]===c)return!1;a[e]=c;return!0}b=a[e];if(!b||"object"!==typeof b)b=a[e]={};a=b}}};return g.exports};m["bindable/lib/shim/dref.js"]=function(h,g){g.exports={test:function(f){return f.get&&f.set},get:function(f,a){var d;d=f.data[a];if(null===d||void 0===d)d=f[a];return d},set:function(f,a,d){return f.set(a,d)}};return g.exports};m["bindable/lib/core/builder.js"]=function(h,g){var f=function(a,c){this._targetClass=a;this._addMethods(c);this._callChain=[]};f.prototype.__isCallChain=
!0;f.prototype.createObject=function(){var a,c,b,e,j,k,f,g;b=this._targetClass;c=arguments;a=function(){return b.apply(this,c)};a.prototype=b.prototype;e=new a;f=this._callChain;g=[];j=0;for(k=f.length;j<k;j++)a=f[j],g.push(e=e[a.method].apply(e,a.args));return g};f.prototype.copyId=function(a){if(!arguments.length)return this._copyId;this._copyId=a;return this};f.prototype.callMethod=function(a,c){this._callChain.push({method:a,args:c});return this};f.prototype._addMethods=function(a){var c,b,e;
b=0;for(e=a.length;b<e;b++)c=a[b],this._addMethod(c);return this};f.prototype._addMethod=function(a){return this[a]=function(){return this.callMethod(a,arguments)}};var a=function(a,c){this._class=a;this._attach=null!=c?c:this;this._createMethods()};a.prototype._createMethods=function(){var a,c;this._methods=[];c=[];for(a in this._class.prototype)"_"!==a.substr(0,1)&&c.push(this._addMethod(a));return c};a.prototype._addMethod=function(a){var c=this;this._methods.push(a);return this._attach[a]=function(){return(new f(c._class,
c._methods)).callMethod(a,arguments)}};g.exports=a;return g.exports};m["bindable/lib/collection/binding.js"]=function(h,g){var f,a;f=new (h("bindable/lib/collection/setters/factory.js"));a=h("bindable/lib/core/utils.js");var d=function(a){this._from=a;this._limit=-1;this._setters=[];this._listen()};d.prototype.transform=function(c){if(!arguments.length)return this._transformer;this._transformer=a.transformer(c);return this};d.prototype.dispose=function(){this._dispose(this._setters);this._setters=
void 0;this._dispose(this._listeners);return this._listeners=void 0};d.prototype.copyId=function(a){if(!arguments.length)return this._copyId;this._copyId=a;return this};d.prototype._dispose=function(a){var b,d,j,k;if(a){k=[];d=0;for(j=a.length;d<j;d++)b=a[d],k.push(b.dispose());return k}};d.prototype.filter=function(a){if(!arguments.length)return this._filter;this._filter=a;return this};d.prototype.to=function(a){(a=f.createSetter(this,a))&&this._setters.push(a);return this};d.prototype._listen=function(){var a,
b,d,j,k,f=this;this._listeners=[];j=["insert","remove","update"];k=[];b=0;for(d=j.length;b<d;b++)a=j[b],k.push(function(a){return f._listeners.push(f._from.on(a,function(b,c){return f._callSetters(a,b,c)}))}(a));return k};d.prototype._callSetters=function(a,b){var d,j,k,f,g;f=this._setters;g=[];j=0;for(k=f.length;j<k;j++)d=f[j],g.push(d.change(a,b));return g};g.exports=d;return g.exports};m["disposable/lib/index.js"]=function(h,g){var f={create:function(){var a={},d=[];a.add=function(c){if(1<arguments.length){for(var b=
f.create(),e=arguments.length;e--;)b.add(arguments[e]);return a.add(b)}if("function"==typeof c){var j=c,k=Array.prototype.slice.call(arguments,0);k.shift();c={dispose:function(){j.apply(null,k)}}}else if(!c||!c.dispose)return!1;d.push(c);return{dispose:function(){var a=d.indexOf(c);-1<a&&d.splice(a,1)}}};a.addTimeout=function(c){return a.add(function(){clearTimeout(c)})};a.addInterval=function(c){return a.add(function(){clearInterval(c)})};a.addBinding=function(c){a.add(function(){c.unbind()})};a.dispose=
function(){for(var a=d.length;a--;)d[a].dispose();d=[]};return a}};"undefined"!=typeof g?g.exports=f:"undefined"!=typeof window&&(window.disposable=f);return g.exports};m["paperclip/lib/paper/dom/decor/index.js"]=function(h,g){var f,a,d;d=h("paperclip/lib/paper/dom/decor/text.js");a=h("paperclip/lib/paper/dom/decor/element.js");f=h("paperclip/lib/paper/dom/decor/bind.js");var c=function(){};c.prototype.attach=function(b,c){var j;j=[];"#text"===c.nodeName?d.test(c)&&j.push(d):(a.test(c)&&j.push(a),
f.test(c)&&j.push(f));if(j.length)return c._pcDecorators=j.map(function(a){return new a(b,c)})};g.exports=c;return g.exports};m["paperclip/lib/paper/template/parser.js"]=function(h,g){var f,a,d,c,b,e,j={}.hasOwnProperty;e=h("paperclip/lib/paper/template/tokenizer.js");b=e.Codes;f=h("paperclip/lib/base/parser.js");a=h("paperclip/lib/paper/template/expressions/block.js");c=h("paperclip/lib/paper/template/expressions/string.js");d=h("paperclip/lib/paper/template/expressions/collection.js");var k=function(){this._t=
new e},n=function(){this.constructor=k},r;for(r in f)j.call(f,r)&&(k[r]=f[r]);n.prototype=f.prototype;k.prototype=new n;k.__super__=f.prototype;k.prototype._parse=function(){var a;a=[];for(this._nextCode();this._t.current;)a.push(this._parseExpression());return new d(a)};k.prototype._parseExpression=function(){return this._currentCode()===b.LM?this._parseBlock():this._parseString()};k.prototype._parseBlock=function(){var c,d;c=[];for(this._nextCode();(d=this._currentCode())!==b.RM&&d;)d===b.LM?c.push("{{",
this._parseBlock().value,"}}"):c.push(this._currentString()),this._nextCode();this._nextCode();return new a(c.join(""))};k.prototype._parseString=function(){var a,d;a=[this._currentString()];for(this._nextCode();(d=this._currentCode())!==b.LM&&d;)a.push(this._currentString()),this._nextCode();return new c(a.join(""))};g.exports=k;return g.exports};m["paperclip/lib/clip/tokenizer.js"]=function(h,g){var f,a,d,c={}.hasOwnProperty;f=h("paperclip/lib/base/tokenizer.js");var b=function(){};b.OTHER=-1;b.WORD=
256;b.STRING=b.WORD+1;b.VAR=b.STRING+1;b.WS=b.VAR+1;b.NUMBER=b.WS+1;b.BOOL=b.NUMBER+1;b.AS=b.BOOL+1;b.OR=b.AS+1;b.ASSIGN=b.OR+1;b.EQ=b.ASSIGN+1;b.NEQ=b.EQ+1;b.NOT=b.NEQ+1;b.DOLLAR=36;b.LP=40;b.RP=41;b.COMA=44;b.DOT=46;b.COLON=58;b.SEMI_COLON=59;b.AT=64;b.LB=123;b.PIPE=124;b.RB=125;b.byCodes={};b.key=function(a){for(var c in b)if(b[c]===a)return c};for(a in b)b.byCodes[b[a]]=b[a];var e=function(){return d=e.__super__.constructor.apply(this,arguments)},j=e;a=function(){this.constructor=j};for(var k in f)c.call(f,
k)&&(j[k]=f[k]);a.prototype=f.prototype;j.prototype=new a;j.__super__=f.prototype;e.prototype.codes=b;e.codes=b;e.prototype._next=function(){var a,c,d,e;if(this._s.isAZ()||36===(d=this._s.ccode())||95===d||64===d)return a=this._s.next(/[_$@a-zA-Z0-9]+/),/true|false/.test(a)?this._t(b.BOOL,a):"as"===a?this._t(b.AS,a):this._t(b.VAR,a);if(39===d||34===d){this._s.skipWhitespace(!1);for(a=[];(c=this._s.nextChar())&&!this._s.eof();)if(e=this._s.ccode(),92===e)a.push(this._s.nextChar());else{if(e===d)break;
a.push(c)}this._s.skipWhitespace(!0);return this._t(b.STRING,a.join(""))}if(this._s.is09())return this._t(b.NUMBER,this._s.nextNumber());if(this._s.isWs())return this._t(b.WS,this._s.next(/[\s\r\n\t]+/));if(33===d)return"!="===this._s.peek(2)?this._t(b.NEQ,"!="):this._t(b.NOT,"!");if(61===d)return"=="===this._s.peek(2)?this._t(b.EQ,"=="):this._t(b.ASSIGN,"=");if(124===d&&"||"===this._s.peek(2))return this._s.nextChar(),this._t(b.OR,"||");if(b.byCodes[d])return this._t(b.byCodes[d],this._s.cchar())};
g.exports=e;return g.exports};m["paperclip/lib/base/parser.js"]=function(h,g){var f=function(a){this._t=a};f.prototype.parse=function(a){this._source=a;this._t.source(a);return this._parse()};f.prototype._parse=function(){};f.prototype._expectNextCode=function(a){if(this._t.next()[0]!==a)return this._error()};f.prototype._expectCurrentCode=function(a){if(this._t.current[0]!==a)return this._error()};f.prototype._nextCode=function(){var a;return null!=(a=this._t.next())?a[0]:void 0};f.prototype._currentCode=
function(){var a;return null!=(a=this._t.current)?a[0]:void 0};f.prototype._currentString=function(){var a;return null!=(a=this._t.current)?a[1]:void 0};f.prototype._error=function(){throw Error('unexpected token in "'+this._source+'"');};g.exports=f;return g.exports};m["paperclip/lib/clip/expressions/fn.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,d=function(a,b){this.name=a;this.params=b;d.__super__.constructor.call(this);this.addChild(this.params)},
c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;d.prototype._type="fn";g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/js.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,d=function(a){this.value=a;d.__super__.constructor.call(this)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;
c.__super__=a.prototype;d.prototype._type="js";d.prototype.toString=function(){return this.value};g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/ref.js"]=function(h,g){var f=function(a){this._children=[];"@"===a.substr(0,1)?(this.self=!0,this.name=a.substr(1)):this.name=a};f.prototype._type="ref";f.prototype.toString=function(){return this.name};g.exports=f;return g.exports};m["paperclip/lib/clip/expressions/group.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/clip/expressions/params.js"),
c=function(){return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype._type="group";c.prototype.toString=function(){return"("+c.__super__.toString.call(this)+")"};g.exports=c;return g.exports};m["paperclip/lib/clip/expressions/params.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/base/collectionExpression.js"),c=function(){return f=
c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype._type="params";c.prototype.toString=function(){return this.items.map(function(a){return a.toString()}).join(",")};g.exports=c;return g.exports};m["paperclip/lib/clip/expressions/script.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,d=function(a){this.expressions=
a;d.__super__.constructor.call(this);this.addChild(this.expressions)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;d.prototype._type="script";d.prototype.toString=function(){return this.expressions.toString()};g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/action.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,d=function(a,b){this.name=a;this.options=
b;d.__super__.constructor.call(this)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;d.prototype._type="action";d.prototype.toString=function(){var a;a=["{"];a.push("name:'"+this.name+"', ");a.push("value:"+this.options.toString());a.push("}");return a.join("")};g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/string.js"]=function(h,g){h("paperclip/lib/base/expression.js");var f=function(a){this.value=
a;this._children=[]};f.prototype._type="string";f.prototype.toString=function(){return"'"+this.value.replace(/\'/g,"\\'").replace(/\n/g,"\\n")+"'"};g.exports=f;return g.exports};m["paperclip/lib/clip/expressions/actions.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/collectionExpression.js"),d=function(a){d.__super__.constructor.call(this,a);this.actions=a},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=
a.prototype;d.prototype._type="actions";d.prototype.toString=function(){var a,b,c,d,e,f;c=["["];b=[];f=this.actions;d=0;for(e=f.length;d<e;d++)a=f[d],b.push(a.toString());c.push(b.join(","));c.push("]");return c.join("")};g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/options.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,d=function(a){this.items=a;d.__super__.constructor.call(this);this.addChild(a)},c=d,b=function(){this.constructor=
c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;d.prototype._type="options";d.prototype.toString=function(){var a,b,c,d,e,f;a=["{"];c=[];f=this.items;d=0;for(e=f.length;d<e;d++)b=f[d],c.push("'"+b.name+"':"+b.expression);a.push(c.join(","),"}");return a.join("")};g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/refPath.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/collectionExpression.js"),d=function(a,
b,c){this.castAs=b;this.assign=null!=c?c:"";d.__super__.constructor.call(this,a)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;d.prototype._type="refPath";d.prototype.toPathString=function(){return this.items.join(".")};d.prototype.toString=function(){var a,b,c,d,e,f,g;a=["this"];b=[];d=!1;this.castAs&&a.push(".castAs('"+this.castAs+"')");g=this.items;e=0;for(f=g.length;e<f;e++)c=g[e],"fn"===c._type?(this._pushRef(a,
b,d),a.push(".call('",c.name,"', ["),a.push(c.params.toString(),"])"),b=[],d=!1):(b.push(c.name),d=d||c.self);this._pushRef(a,b,d);a.push(".value("+this.assign+")");return a.join("")};d.prototype._pushRef=function(a,b,c){if(b.length)return a.push("."+(c?"self":"ref")+"('",b.join("."),"')")};g.exports=d;return g.exports};m["paperclip/lib/clip/expressions/modifier.js"]=function(h,g){var f,a,d={}.hasOwnProperty;f=h("paperclip/lib/base/expression.js");a=h("paperclip/lib/clip/modifiers/index.js");var c=
function(a,b,d){this.name=a;this.params=b;this.expression=d;c.__super__.constructor.call(this);this.addChild(this.params,this.expression)},b=c;f=f.Expression;var e=function(){this.constructor=b},j;for(j in f)d.call(f,j)&&(b[j]=f[j]);e.prototype=f.prototype;b.prototype=new e;b.__super__=f.prototype;c.prototype._type="modifier";c.prototype.toString=function(){var b,c,d,e,f,j;b=[];a[this.name]?b.push("this.defaultModifiers"):b.push("this.modifiers");b.push("."+this.name+"(");d=[this.expression.toString()];
j=this.params.items;e=0;for(f=j.length;e<f;e++)c=j[e],d.push(c.toString());b.push(d.join(","),")");return b.join("")};g.exports=c;return g.exports};m["paperclip/lib/base/collectionExpression.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,d=function(a){this.items=a;d.__super__.constructor.call(this);this.addChild.apply(this,this.items)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;
c.__super__=a.prototype;d.prototype._type="collection";d.prototype.toString=function(){return this.items.map(function(a){return a.toString()}).join("")};g.exports=d;return g.exports};m["bindable/lib/object/setters/fn.js"]=function(h,g){var f={}.hasOwnProperty,a=h("bindable/lib/object/setters/base.js"),d=function(a,b){this.binding=a;this.callback=b;d.__super__.constructor.call(this,this.binding)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=
new b;c.__super__=a.prototype;d.prototype._change=function(a){return this.callback(a)};d.prototype.dispose=function(){return this.callback=null};g.exports=d;return g.exports};m["bindable/lib/object/setters/bindable.js"]=function(h,g){var f={}.hasOwnProperty,a=h("bindable/lib/object/setters/base.js"),d=function(a,b,c){this.binding=a;this.to=b;this.property=c;d.__super__.constructor.call(this,this.binding)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;
c.prototype=new b;c.__super__=a.prototype;d.prototype._change=function(a){return this.to.set(this.property,a)};d.prototype.dispose=function(){if(this._disposable)return this._disposable.dispose(),this._disposable=this.binding=this.to=this.property=null};d.prototype.bothWays=function(){var a=this;return this._disposable=this.to.bind(this.property).to(function(b){if(a.currentValue!==b)return a._changeFrom(b)})};d.prototype._changeFrom=function(a){var b=this;return this.__transform("from",a,function(a,
c){if(a)throw a;return b.binding._from.set(b.binding._property,b.currentValue=c)})};g.exports=d;return g.exports};m["bindable/lib/object/setters/collection.js"]=function(h,g){var f={}.hasOwnProperty,a=h("bindable/lib/object/setters/base.js"),d=function(a,b,c){this.binding=a;this.to=b;this.property=c;d.__super__.constructor.call(this,this.binding)},c=d,b=function(){this.constructor=c},e;for(e in a)f.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;d.prototype._change=
function(a){return this.to.reset(a)};d.prototype.dispose=function(){return this.to.disposeSourceBinding()};g.exports=d;return g.exports};m["hoist/lib/transformer.js"]=function(h,g){var f,a,d,c,b,e;e=h("type-component/index.js");f=h("async/lib/async.js");a=function(){return function(a){return"array"===e(a)?a:[a]}};c=function(a){return function(b){return a(b)}};d=function(a){return function(b){return b&&b.constructor===a?b:new a(b)}};b=function(b){return b===Array?a():b===String||b===Number?c(b):d(b)};
g.exports=function(a){var c,d,g,h,m,p,w;null==a&&(a={});w=[];p=[];m=[];h=[];g=function(a,b){return 1<arguments.length&&"function"===e(arguments[arguments.length-1])?g.async(a,b):g.sync.apply(null,arguments)};g.async=function(a,b){return f.eachSeries(w,function(b,c){if(b.async)return b.transform(a,function(b,d){return b?c(b):c(null,a=d)});a=b.transform(a);return c()},function(c){return c?b(c):b(null,a)})};g.sync=function(){var a,b,c;b=0;for(c=w.length;b<c;b++)a=w[b],arguments[0]=a.transform.apply(null,
arguments);return arguments[0]};g.preCast=function(a){return g._push(c(a),p)};g.cast=function(a){return g._push(c(a),h)};g.postCast=function(a){return g._push(c(a),m)};c=function(a){return{transform:b(a)}};g.preMap=function(a){return g._push(d(a),p)};g.map=function(a){return g._push(d(a),h)};g.postMap=function(a){return g._push(d(a),m)};d=function(a){return{async:1<a.length,transform:a}};g._push=function(a,b){b.push(a);w=p.concat(h).concat(m);return this};return g};return g.exports};m["poolparty/lib/index.js"]=
function(h,g){var f=function(a){null==a&&(a={});var d=this.drip,c=this;this.drip=function(){return d.apply(c,arguments)};this.max=a.max||50;this.min=a.min||0;this.staleTimeout=a.staleTimeout||1E3;this.factory=a.factory||a.create;this.recycle=a.recycle;this._pool=[];this._size=0};f.prototype.size=function(){return this._size};f.prototype.drain=function(){var a,d,c;c=[];a=0;for(d=this._size-this.min;0<=d?a<d:a>d;0<=d?++a:--a)c.push(this.drip());return c};f.prototype.drip=function(){this._dripping=!1;
if(this._size)return this._size--,this._pool.shift(),this._timeoutDrip()};f.prototype.create=function(a){var d;if(this._size)return this._size--,d=this._pool.shift(),this.recycle(d,a),d;d=this.factory(a);d.__pool=this;return d};f.prototype.add=function(a){if(a.__pool!==this)return this;!~this._pool.indexOf(a)&&this._size<this.max&&(this._size++,this._pool.push(a),this._timeoutDrip());return this};f.prototype._timeoutDrip=function(){if(!this._dripping)return this._dripping=!0,setTimeout(this.drip,
this.staleTimeout)};g.exports=function(a){return new f(a)};return g.exports};m["bindable/lib/collection/setters/factory.js"]=function(h,g){var f,a,d;a=h("bindable/lib/collection/setters/fn.js");d=h("bindable/lib/collection/setters/object.js");f=h("bindable/lib/collection/setters/collection.js");var c=function(){};c.prototype.createSetter=function(b,c){return!c?null:"function"===typeof c?new a(b,c):c.__isCollection?new f(b,c):c.insert||c.update||c.remove||c.replace?new d(b,c):null};g.exports=c;return g.exports};
m["paperclip/lib/paper/dom/decor/text.js"]=function(h,g){var f;f=h("paperclip/lib/paper/template/index.js");var a=function(a,c){this.data=a;this.element=c;var b=this._change,e=this;this._change=function(){return b.apply(e,arguments)};this._template=new f(this.element.nodeValue);this._renderer=this._template.render(this.data)};a.prototype.init=function(){return this._renderer.bind("text").to(this._change)};a.prototype._change=function(a){return this.element.nodeValue=a};a.test=function(a){return!!~a.nodeValue.indexOf("{{")};
g.exports=a;return g.exports};m["paperclip/lib/paper/dom/decor/element.js"]=function(h,g){var f,a=function(a,c){return function(){return a.apply(c,arguments)}};f=h("paperclip/lib/paper/template/index.js");var d=function(b,c,d){this.data=b;this.attribute=c;this.element=d;this._elementChange=a(this._elementChange,this);this._change=a(this._change,this);this.name=c.name;this._template=new f(this.attribute.value);this._renderer=this._template.render(this.data)};d.prototype.init=function(){this._renderer.bind("text").to(this._change);
return $(this.element).bind("mouseup keydown keyup change",this._elementChange)};d.prototype._change=function(a){return this.attribute.value=this.currentValue=a};d.prototype._elementChange=function(){return"value"===this.name?this.element.value:this.attribute.value};var c=function(a,c){this.data=a;this.element=c;this._bindings=[]};c.prototype.init=function(){var a,c,f,g,h;g=this.element.attributes;h=[];c=0;for(f=g.length;c<f;c++)a=g[c],~String(a.value).indexOf("{{")?(this._bindings.push(a=new d(this.data,
a,this.element)),h.push(a.init())):h.push(void 0);return h};c.test=function(a){var c,d,f;f=a.attributes;c=0;for(d=f.length;c<d;c++)if(a=f[c],~String(a.value).indexOf("{{"))return!0;return!1};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/bind.js"]=function(h,g){var f,a;f=h("paperclip/lib/clip/index.js");h("paperclip/lib/paper/template/index.js");a=h("paperclip/lib/paper/dom/decor/handlers/index.js");var d=function(c,b){var d,g,k,h,m;this.data=c;this.element=b;this._clip=new f({scripts:f.compile(this._dataBind(b)),
data:this.data,watch:!1});this._handlers=[];m=this._clip.scripts.names;k=0;for(h=m.length;k<h;k++)d=m[k],g=a[d]||a.base,d=this._clip.script(d),this._handlers.push(g=new g(d,this._clip,b)),this.traverse=!1!==g.traverse};d.prototype.init=function(){var a,b,d,f,g;f=this._handlers;g=[];b=0;for(d=f.length;b<d;b++)a=f[b],a.dom=this.dom,g.push("function"===typeof a.init?a.init():void 0);return g};d.prototype._dataBind=function(a){var b,d,f;f=a.attributes;b=0;for(d=f.length;b<d;b++)if(a=f[b],"data-bind"===
a.name)return a.value};d.test=function(a){var b,d,f;f=a.attributes;b=0;for(d=f.length;b<d;b++)if(a=f[b],"data-bind"===a.name)return!0;return!1};g.exports=d;return g.exports};m["paperclip/lib/paper/template/tokenizer.js"]=function(h,g){var f,a={}.hasOwnProperty;f=h("paperclip/lib/base/tokenizer.js");var d=function(){};d.OTHER=-1;d.LM=1;d.RM=d.LM+1;d.CHAR=d.RM+1;var c=function(){c.__super__.constructor.call(this);this._s.skipWhitespace(!1)},b=c,e=function(){this.constructor=b},j;for(j in f)a.call(f,
j)&&(b[j]=f[j]);e.prototype=f.prototype;b.prototype=new e;b.__super__=f.prototype;c.Codes=d;c.prototype._next=function(){if("{"===this._s.cchar()){if("{"===this._s.peek(2))return this._s.nextChar(),this._t(d.LM,"{{")}else if("}"===this._s.cchar()&&"}"===this._s.peek(2))return this._s.nextChar(),this._t(d.RM,"}}");return this._t(d.CHAR,this._s.cchar())};g.exports=c;return g.exports};m["paperclip/lib/paper/template/expressions/block.js"]=function(h,g){var f,a,d={}.hasOwnProperty;a=h("paperclip/lib/base/expression.js");
f=h("paperclip/lib/clip/index.js");var c=function(a){this.value=a};a=a.Expression;var b=function(){this.constructor=c},e;for(e in a)d.call(a,e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b;c.__super__=a.prototype;c.prototype._type="block";c.prototype.toString=function(){return"pushScript("+f.compile(this.value.toString())+")"};g.exports=c;return g.exports};m["paperclip/lib/paper/template/expressions/string.js"]=function(h,g){var f={}.hasOwnProperty,a=h("paperclip/lib/base/expression.js").Expression,
d=function(a){this.value=a},c=function(){this.constructor=d},b;for(b in a)f.call(a,b)&&(d[b]=a[b]);c.prototype=a.prototype;d.prototype=new c;d.__super__=a.prototype;d.prototype._type="string";d.prototype.toString=function(){return"push('"+this.value.replace(/\'/g,"\\'").replace(/\n/g,"\\n")+"')"};g.exports=d;return g.exports};m["paperclip/lib/paper/template/expressions/collection.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/base/collectionExpression.js"),c=function(){return f=c.__super__.constructor.apply(this,
arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.toString=function(){var a,b,c,d,e;a=["this"];e=this.items;c=0;for(d=e.length;c<d;c++)b=e[c],a.push(b.toString());return a.join(".")};g.exports=c;return g.exports};m["paperclip/lib/base/tokenizer.js"]=function(h,g){var f;f=h("strscanner/lib/index.js");var a=function(){this._s=f("",{skipWhitespace:!0});this._pool=[]};a.prototype.peekNext=
function(){var a,c;a=this.current;c=this.next();this.putBack();this.current=a;return c};a.prototype.source=function(a){if(!arguments.length)return this._source;this._s.source(this._source=a);return this};a.prototype.putBack=function(){if(this.current)return this._pool.push(this.current)};a.prototype.next=function(){return this._pool.length?this.current=this._pool.pop():this._s.eof()?this.current=null:this._next()||this._t(-1,this._s.cchar())};a.prototype._next=function(){};a.prototype._t=function(a,
c){var b;b=this._s.pos();this._s.nextChar();return this.current=[a,c,b]};g.exports=a;return g.exports};m["paperclip/lib/base/expression.js"]=function(h,g,f){h=function(){this._children=[]};h.prototype.addChild=function(){var a,d,c,b;b=[];d=0;for(c=arguments.length;d<c;d++)a=arguments[d],a._parent=this,b.push(this._children.push(a));return b};f.Expression=h;return g.exports};m["bindable/lib/object/setters/base.js"]=function(h,g){var f;f=h("bindable/lib/core/utils.js");var a=function(a){this.binding=
a;this._transformer=this.binding.transform();this.init()};a.prototype.init=function(){var a=this;return this._setValue(this.binding._from.get(this.binding._property),function(c){if(!a.binding.watch())return a._change(c)})};a.prototype.change=function(a){var c=this;return this._setValue(a,function(a){return c._change(a)})};a.prototype._setValue=function(a,c){var b=this;if(this.currentValue===a)return!1;this.__transform("to",a,function(a,d){if(a)throw a;return c(b.currentValue=d)});return!0};a.prototype.bothWays=
function(){};a.prototype._change=function(){};a.prototype.__transform=function(a,c,b){return f.tryTransform(this._transformer,a,c,b)};g.exports=a;return g.exports};m["async/lib/async.js"]=function(h,g){(function(){function f(a){var b=!1;return function(){if(b)throw Error("Callback was already called.");b=!0;a.apply(d,arguments)}}var a={},d,c;d=this;null!=d&&(c=d.async);a.noConflict=function(){d.async=c;return a};var b=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],
c,a)},e=function(a,c){if(a.map)return a.map(c);var d=[];b(a,function(a,b,e){d.push(c(a,b,e))});return d},h=function(a){if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"===typeof process||!process.nextTick?"function"===typeof setImmediate?(a.setImmediate=setImmediate,a.nextTick=setImmediate):(a.setImmediate=a.nextTick,a.nextTick=function(a){setTimeout(a,0)}):(a.nextTick=process.nextTick,a.setImmediate="undefined"!==typeof setImmediate?setImmediate:
a.nextTick);a.each=function(a,c,d){d=d||function(){};if(!a.length)return d();var e=0;b(a,function(b){c(b,f(function(b){b?(d(b),d=function(){}):(e+=1,e>=a.length&&d(null))}))})};a.forEach=a.each;a.eachSeries=function(a,b,c){c=c||function(){};if(!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()};a.forEachSeries=a.eachSeries;a.eachLimit=function(a,b,c,d){k(b).apply(null,[a,c,d])};a.forEachLimit=a.eachLimit;var k=function(a){return function(b,
c,d){d=d||function(){};if(!b.length||0>=a)return d();var e=0,f=0,g=0;(function l(){if(e>=b.length)return d();for(;g<a&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():l())})})()}},n=function(b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[a.each].concat(c))}},r=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},s=function(b){return function(){var c=Array.prototype.slice.call(arguments);
return b.apply(null,[a.eachSeries].concat(c))}},v=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c,d){f[a.index]=d;b(c)})},function(a){d(a,f)})};a.map=n(v);a.mapSeries=s(v);a.mapLimit=function(a,b,c,d){return r(b,v)(a,c,d)};a.reduce=function(b,c,d,e){a.eachSeries(b,function(a,b){d(c,a,function(a,d){c=d;b(a)})},function(a){e(a,c)})};a.inject=a.reduce;a.foldl=a.reduce;a.reduceRight=function(b,c,d,f){b=e(b,function(a){return a}).reverse();
a.reduce(b,c,d,f)};a.foldr=a.reduceRight;var p=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c&&f.push(a);b()})},function(){d(e(f.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};a.filter=n(p);a.filterSeries=s(p);a.select=a.filter;a.selectSeries=a.filterSeries;p=function(a,b,c,d){var f=[];b=e(b,function(a,b){return{index:b,value:a}});a(b,function(a,b){c(a.value,function(c){c||f.push(a);b()})},function(){d(e(f.sort(function(a,
b){return a.index-b.index}),function(a){return a.value}))})};a.reject=n(p);a.rejectSeries=s(p);p=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};a.detect=n(p);a.detectSeries=s(p);a.some=function(b,c,d){a.each(b,function(a,b){c(a,function(a){a&&(d(!0),d=function(){});b()})},function(){d(!1)})};a.any=a.some;a.every=function(b,c,d){a.each(b,function(a,b){c(a,function(a){a||(d(!1),d=function(){});b()})},function(){d(!0)})};a.all=a.every;a.sortBy=function(b,
c,d){a.map(b,function(a,b){c(a,function(c,d){c?b(c):b(null,{value:a,criteria:d})})},function(a,b){if(a)return d(a);d(null,e(b.sort(function(a,b){var c=a.criteria,d=b.criteria;return c<d?-1:c>d?1:0}),function(a){return a.value}))})};a.auto=function(c,d){d=d||function(){};var e=h(c);if(!e.length)return d(null);var f={},g=[],k=function(){b(g.slice(0),function(a){a()})};g.unshift(function(){h(f).length===e.length&&(d(null,f),d=function(){})});b(e,function(e){var n=c[e]instanceof Function?[c[e]]:c[e],
l=function(c){var g=Array.prototype.slice.call(arguments,1);1>=g.length&&(g=g[0]);if(c){var l={};b(h(f),function(a){l[a]=f[a]});l[e]=g;d(c,l);d=function(){}}else f[e]=g,a.setImmediate(k)},m=n.slice(0,Math.abs(n.length-1))||[],s=function(){var a;var c=function(a,b){return a&&f.hasOwnProperty(b)},d=!0;m.reduce?a=m.reduce(c,d):(b(m,function(a,b,e){d=c(d,a,b,e)}),a=d);return a&&!f.hasOwnProperty(e)};if(s())n[n.length-1](l,f);else{var A=function(){if(s()){a:for(var a=A,b=0;b<g.length;b+=1)if(g[b]===a){g.splice(b,
1);break a}n[n.length-1](l,f)}};g.unshift(A)}})};a.waterfall=function(b,c){c=c||function(){};if(b.constructor!==Array)return c(Error("First argument to waterfall must be an array of functions"));if(!b.length)return c();var d=function(b){return function(e){if(e)c.apply(null,arguments),c=function(){};else{var f=Array.prototype.slice.call(arguments,1),g=b.next();g?f.push(d(g)):f.push(c);a.setImmediate(function(){b.apply(null,f)})}}};d(a.iterator(b))()};var w=function(a,b,c){c=c||function(){};if(b.constructor===
Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.each(h(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);d[a]=e;c(b)})},function(a){c(a,d)})}};a.parallel=function(b,c){w({map:a.map,each:a.each},b,c)};a.parallelLimit=function(a,b,c){w({map:r(b,v),each:k(b)},a,c)};a.series=function(b,c){c=c||function(){};if(b.constructor===Array)a.mapSeries(b,function(a,
b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);b.call(null,a,c)})},c);else{var d={};a.eachSeries(h(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);1>=e.length&&(e=e[0]);d[a]=e;c(b)})},function(a){c(a,d)})}};a.iterator=function(a){var b=function(c){var d=function(){a.length&&a[c].apply(null,arguments);return d.next()};d.next=function(){return c<a.length-1?b(c+1):null};return d};return b(0)};a.apply=function(a){var b=Array.prototype.slice.call(arguments,
1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};p=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]);b(a)})},function(a){d(a,e)})};a.concat=n(p);a.concatSeries=s(p);a.whilst=function(b,c,d){b()?c(function(e){if(e)return d(e);a.whilst(b,c,d)}):d()};a.doWhilst=function(b,c,d){b(function(e){if(e)return d(e);c()?a.doWhilst(b,c,d):d()})};a.until=function(b,c,d){b()?d():c(function(e){if(e)return d(e);a.until(b,c,d)})};a.doUntil=function(b,
c,d){b(function(e){if(e)return d(e);c()?d():a.doUntil(b,c,d)})};a.queue=function(c,d){function e(c,f,g,h){f.constructor!==Array&&(f=[f]);b(f,function(b){b={data:b,callback:"function"===typeof h?h:null};g?c.tasks.unshift(b):c.tasks.push(b);c.saturated&&c.tasks.length===d&&c.saturated();a.setImmediate(c.process)})}void 0===d&&(d=1);var g=0,h={tasks:[],concurrency:d,saturated:null,empty:null,drain:null,push:function(a,b){e(h,a,!1,b)},unshift:function(a,b){e(h,a,!0,b)},process:function(){if(g<h.concurrency&&
h.tasks.length){var a=h.tasks.shift();h.empty&&0===h.tasks.length&&h.empty();g+=1;var b=f(function(){g-=1;a.callback&&a.callback.apply(a,arguments);h.drain&&0===h.tasks.length+g&&h.drain();h.process()});c(a.data,b)}},length:function(){return h.tasks.length},running:function(){return g}};return h};a.cargo=function(c,d){var f=!1,g=[],h={tasks:g,payload:d,saturated:null,empty:null,drain:null,push:function(c,e){c.constructor!==Array&&(c=[c]);b(c,function(a){g.push({data:a,callback:"function"===typeof e?
e:null});h.saturated&&g.length===d&&h.saturated()});a.setImmediate(h.process)},process:function y(){if(!f)if(0===g.length)h.drain&&h.drain();else{var a="number"===typeof d?g.splice(0,d):g.splice(0),k=e(a,function(a){return a.data});h.empty&&h.empty();f=!0;c(k,function(){f=!1;var c=arguments;b(a,function(a){a.callback&&a.callback.apply(null,c)});y()})}},length:function(){return g.length},running:function(){return f}};return h};p=function(a){return function(c){var d=Array.prototype.slice.call(arguments,
1);c.apply(null,d.concat([function(c){var d=Array.prototype.slice.call(arguments,1);"undefined"!==typeof console&&(c?console.error&&console.error(c):console[a]&&b(d,function(b){console[a](b)}))}]))}};a.log=p("log");a.dir=p("dir");a.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];
for(var b=0,e=a.length;b<e;b++)a[b].apply(null,arguments)}])))};e.memo=c;e.unmemoized=a;return e};a.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}};a.times=function(b,c,d){for(var e=[],f=0;f<b;f++)e.push(f);return a.map(e,c,d)};a.timesSeries=function(b,c,d){for(var e=[],f=0;f<b;f++)e.push(f);return a.mapSeries(e,c,d)};a.compose=function(){var b=Array.prototype.reverse.call(arguments);return function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();
a.reduce(b,d,function(a,b,d){b.apply(c,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,b){e.apply(c,[a].concat(b))})}};p=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};a.applyEach=n(p);a.applyEachSeries=s(p);a.forever=function(a,b){function c(d){if(d){if(b)return b(d);
throw d;}a(c)}c()};"undefined"!==typeof D&&D.amd?m[[]]=function(){return a}:"undefined"!==typeof g&&g.exports?g.exports=a:d.async=a})();return g.exports};m["bindable/lib/collection/setters/fn.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("bindable/lib/collection/setters/base.js"),c=function(){return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.init=
function(){var a,b,d,e,f;c.__super__.init.call(this);e=this.binding._from.source();f=[];a=b=0;for(d=e.length;b<d;a=++b)a=e[a],f.push(this.change("insert",a));return f};c.prototype._change=function(a,b){return this.target(a,b)};g.exports=c;return g.exports};m["bindable/lib/collection/setters/object.js"]=function(h,g){var f,a,d,c={}.hasOwnProperty;a=h("underscore/underscore.js");f=h("bindable/lib/collection/setters/fn.js");var b=h("bindable/lib/collection/setters/base.js"),e=function(){return d=e.__super__.constructor.apply(this,
arguments)},j=e,k=function(){this.constructor=j},n;for(n in b)c.call(b,n)&&(j[n]=b[n]);k.prototype=b.prototype;j.prototype=new k;j.__super__=b.prototype;e.prototype.init=function(){var b=this;a.defaults(this.target,{insert:function(){},remove:function(){},update:function(){}});return this._setter=new f(this.binding,function(a,c,d){return b.target[a].call(b.target,c,d)})};e.prototype._change=function(){return this._setter._change.apply(this._setter,arguments)};g.exports=e;return g.exports};m["bindable/lib/collection/setters/collection.js"]=
function(h,g){var f,a,d={}.hasOwnProperty;f=h("bindable/lib/collection/setters/object.js");var c=h("bindable/lib/collection/setters/base.js"),b=function(){return a=b.__super__.constructor.apply(this,arguments)},e=b,j=function(){this.constructor=e},k;for(k in c)d.call(c,k)&&(e[k]=c[k]);j.prototype=c.prototype;e.prototype=new j;e.__super__=c.prototype;b.prototype.init=function(){var a,c=this;b.__super__.init.call(this);return this._setter=new f(this.binding,a={insert:function(b){c.binding._copyId&&
c.target._id(c.binding._from._id());return~c.target.indexOf(b)?a.update(b):c.target.push(b)},update:function(a){return c.target.update(a)},remove:function(a){a=c.target.indexOf(a);if(~a)return c.target.splice(a,1)}})};b.prototype._change=function(){return this._setter._change.apply(this._setter,arguments)};b.prototype.bothWays=function(){throw Error("cannot bind both ways yet");};g.exports=b;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/index.js"]=function(h,g){g.exports={css:h("paperclip/lib/paper/dom/decor/handlers/css.js"),
base:h("paperclip/lib/paper/dom/decor/handlers/base.js"),show:h("paperclip/lib/paper/dom/decor/handlers/show.js"),each:h("paperclip/lib/paper/dom/decor/handlers/each.js"),click:h("paperclip/lib/paper/dom/decor/handlers/click.js"),enter:h("paperclip/lib/paper/dom/decor/handlers/enter.js"),value:h("paperclip/lib/paper/dom/decor/handlers/value.js"),style:h("paperclip/lib/paper/dom/decor/handlers/style.js"),disable:h("paperclip/lib/paper/dom/decor/handlers/disable.js"),checked:h("paperclip/lib/paper/dom/decor/handlers/checked.js")};
return g.exports};m["strscanner/lib/index.js"]=function(h,g){g.exports=function(f,a){a||(a={skipWhitespace:!0});var d="",c=0,b=0,e=0,g=f,h={source:function(a){g=a;e=a.length;h.pos(0)},skipWhitespace:function(b){if(!arguments.length)return a.skipWhitespace;a.skipWhitespace=b},eof:function(){return b>=e},pos:function(a){if(!arguments.length)return b;b=a;d=g.charAt(a);c=d.charCodeAt(0)},skip:function(a){return b=Math.min(b+a,e)},rewind:function(a){return b=Math.max(b-a||1,0)},peek:function(a){return g.substr(b,
a||1)},nextChar:function(){h.pos(b+1);a.skipWhitespace&&h.isWs()&&h.nextChar();return d},cchar:function(){return d},ccode:function(){return c},isAZ:function(){return 64<c&&91>c||96<c&&123>c},is09:function(){return 47<c&&58>c},isWs:function(){return 9===c||10===c||13===c||32===c},isAlpha:function(){return h.isAZ()||h.is09()},matches:function(a){return!!g.substr(b).match(a)},next:function(a){a=g.substr(b).match(a);b+=a.index+Math.max(0,a[0].length-1);return a[0]},nextWord:function(){if(h.isAZ())return h.next(/[a-zA-Z]+/)},
nextNumber:function(){if(h.is09())return h.next(/[0-9]+/)},nextAlpha:function(){if(h.isAlpha())return h.next(/[a-zA-Z0-9]+/)},nextNonAlpha:function(){if(!h.isAlpha())return h.next(/[^a-zA-Z0-9]+/)},nextWs:function(){if(h.isWs())return h.next(/[\s\r\n\t]+/)},nextUntil:function(a){for(var b="";!h.eof()&&!d.match(a);)b+=d,h.nextChar();return b},to:function(a){var c=g.substr(b,a);b+=a;return c}};h.source(f);return h};return g.exports};m["bindable/lib/collection/setters/base.js"]=function(h,g){var f;f=
h("bindable/lib/core/utils.js");var a=function(a,c){this.binding=a;this.target=c;this._transformer=a.transform();this._filter=a.filter();this.init()};a.prototype.init=function(){};a.prototype.dispose=function(){};a.prototype.change=function(a,c){var b=this;return this._filter&&!this._filter(c)?void 0:this.__transform("to",c,function(c,f){if(c)throw c;return b._change(a,f)})};a.prototype._change=function(){};a.prototype.bothWays=function(){};a.prototype.__transform=function(a,c,b){return f.tryTransform(this._transformer,
a,c,b)};g.exports=a;return g.exports};m["underscore/underscore.js"]=function(h,g,f){(function(){var a=this,d=a._,c={},b=Array.prototype,e=Object.prototype,h=b.push,k=b.slice,m=b.concat,r=e.toString,s=e.hasOwnProperty,v=b.forEach,p=b.map,w=b.reduce,q=b.reduceRight,B=b.filter,A=b.every,u=b.some,x=b.indexOf,E=b.lastIndexOf,e=Array.isArray,y=Object.keys,z=Function.prototype.bind,l=function(a){if(a instanceof l)return a;if(!(this instanceof l))return new l(a);this._wrapped=a};"undefined"!==typeof f?("undefined"!==
typeof g&&g.exports&&(f=g.exports=l),f._=l):a._=l;l.VERSION="1.4.4";var t=l.each=l.forEach=function(a,b,d){if(null!=a)if(v&&a.forEach===v)a.forEach(b,d);else if(a.length===+a.length)for(var e=0,f=a.length;e<f&&b.call(d,a[e],e,a)!==c;e++);else for(e in a)if(l.has(a,e)&&b.call(d,a[e],e,a)===c)break};l.map=l.collect=function(a,b,c){var d=[];if(null==a)return d;if(p&&a.map===p)return a.map(b,c);t(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)});return d};l.reduce=l.foldl=l.inject=function(a,b,c,d){var e=
2<arguments.length;null==a&&(a=[]);if(w&&a.reduce===w)return d&&(b=l.bind(b,d)),e?a.reduce(b,c):a.reduce(b);t(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};l.reduceRight=l.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(q&&a.reduceRight===q)return d&&(b=l.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f)var g=l.keys(a),f=g.length;t(a,function(h,k,j){k=g?g[--f]:--f;
e?c=b.call(d,c,a[k],k,j):(c=a[k],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};l.find=l.detect=function(a,b,c){var d;C(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0});return d};l.filter=l.select=function(a,b,c){var d=[];if(null==a)return d;if(B&&a.filter===B)return a.filter(b,c);t(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)});return d};l.reject=function(a,b,c){return l.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)};l.every=l.all=function(a,
b,d){b||(b=l.identity);var e=!0;if(null==a)return e;if(A&&a.every===A)return a.every(b,d);t(a,function(a,f,g){if(!(e=e&&b.call(d,a,f,g)))return c});return!!e};var C=l.some=l.any=function(a,b,d){b||(b=l.identity);var e=!1;if(null==a)return e;if(u&&a.some===u)return a.some(b,d);t(a,function(a,f,g){if(e||(e=b.call(d,a,f,g)))return c});return!!e};l.contains=l.include=function(a,b){return null==a?!1:x&&a.indexOf===x?-1!=a.indexOf(b):C(a,function(a){return a===b})};l.invoke=function(a,b){var c=k.call(arguments,
2),d=l.isFunction(b);return l.map(a,function(a){return(d?b:a[b]).apply(a,c)})};l.pluck=function(a,b){return l.map(a,function(a){return a[b]})};l.where=function(a,b,c){return l.isEmpty(b)?c?null:[]:l[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};l.findWhere=function(a,b){return l.where(a,b,!0)};l.max=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&l.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};
t(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e>=d.computed&&(d={value:a,computed:e})});return d.value};l.min=function(a,b,c){if(!b&&l.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&l.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};t(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<d.computed&&(d={value:a,computed:e})});return d.value};l.shuffle=function(a){var b,c=0,d=[];t(a,function(a){b=l.random(c++);d[c-1]=d[b];d[b]=a});return d};var I=function(a){return l.isFunction(a)?
a:function(b){return b[a]}};l.sortBy=function(a,b,c){var d=I(b);return l.pluck(l.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var D=function(a,b,c,d){var e={},f=I(b||l.identity);t(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)});return e};l.groupBy=function(a,b,c){return D(a,b,c,function(a,b,c){(l.has(a,b)?a[b]:a[b]=
[]).push(c)})};l.countBy=function(a,b,c){return D(a,b,c,function(a,b){l.has(a,b)||(a[b]=0);a[b]++})};l.sortedIndex=function(a,b,c,d){c=null==c?l.identity:I(c);b=c.call(d,b);for(var e=0,f=a.length;e<f;){var g=e+f>>>1;c.call(d,a[g])<b?e=g+1:f=g}return e};l.toArray=function(a){return!a?[]:l.isArray(a)?k.call(a):a.length===+a.length?l.map(a,l.identity):l.values(a)};l.size=function(a){return null==a?0:a.length===+a.length?a.length:l.keys(a).length};l.first=l.head=l.take=function(a,b,c){return null==a?
void 0:null!=b&&!c?k.call(a,0,b):a[0]};l.initial=function(a,b,c){return k.call(a,0,a.length-(null==b||c?1:b))};l.last=function(a,b,c){return null==a?void 0:null!=b&&!c?k.call(a,Math.max(a.length-b,0)):a[a.length-1]};l.rest=l.tail=l.drop=function(a,b,c){return k.call(a,null==b||c?1:b)};l.compact=function(a){return l.filter(a,l.identity)};var G=function(a,b,c){t(a,function(a){l.isArray(a)?b?h.apply(c,a):G(a,b,c):c.push(a)});return c};l.flatten=function(a,b){return G(a,b,[])};l.without=function(a){return l.difference(a,
k.call(arguments,1))};l.uniq=l.unique=function(a,b,c,d){l.isFunction(b)&&(d=c,c=b,b=!1);c=c?l.map(a,c,d):a;var e=[],f=[];t(c,function(c,d){if(b?!d||f[f.length-1]!==c:!l.contains(f,c))f.push(c),e.push(a[d])});return e};l.union=function(){return l.uniq(m.apply(b,arguments))};l.intersection=function(a){var b=k.call(arguments,1);return l.filter(l.uniq(a),function(a){return l.every(b,function(b){return 0<=l.indexOf(b,a)})})};l.difference=function(a){var c=m.apply(b,k.call(arguments,1));return l.filter(a,
function(a){return!l.contains(c,a)})};l.zip=function(){for(var a=k.call(arguments),b=l.max(l.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=l.pluck(a,""+d);return c};l.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};l.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else return d=l.sortedIndex(a,b),a[d]===b?d:-1;if(x&&a.indexOf===x)return a.indexOf(b,c);for(;d<
e;d++)if(a[d]===b)return d;return-1};l.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(E&&a.lastIndexOf===E)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};l.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};l.bind=function(a,b){if(a.bind===z&&z)return z.apply(a,k.call(arguments,1));var c=k.call(arguments,2);return function(){return a.apply(b,
c.concat(k.call(arguments)))}};l.partial=function(a){var b=k.call(arguments,1);return function(){return a.apply(this,b.concat(k.call(arguments)))}};l.bindAll=function(a){var b=k.call(arguments,1);0===b.length&&(b=l.functions(a));t(b,function(b){a[b]=l.bind(a[b],a)});return a};l.memoize=function(a,b){var c={};b||(b=l.identity);return function(){var d=b.apply(this,arguments);return l.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};l.delay=function(a,b){var c=k.call(arguments,2);return setTimeout(function(){return a.apply(null,
c)},b)};l.defer=function(a){return l.delay.apply(l,[a,1].concat(k.call(arguments,1)))};l.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date;e=null;f=a.apply(c,d)};return function(){var k=new Date,j=b-(k-g);c=this;d=arguments;0>=j?(clearTimeout(e),e=null,g=k,f=a.apply(c,d)):e||(e=setTimeout(h,j));return f}};l.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=a.apply(f,g))},b);h&&(e=a.apply(f,g));return e}};
l.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};l.wrap=function(a,b){return function(){var c=[a];h.apply(c,arguments);return b.apply(this,c)}};l.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};l.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};l.keys=y||function(a){if(a!==Object(a))throw new TypeError("Invalid object");
var b=[],c;for(c in a)l.has(a,c)&&(b[b.length]=c);return b};l.values=function(a){var b=[],c;for(c in a)l.has(a,c)&&b.push(a[c]);return b};l.pairs=function(a){var b=[],c;for(c in a)l.has(a,c)&&b.push([c,a[c]]);return b};l.invert=function(a){var b={},c;for(c in a)l.has(a,c)&&(b[a[c]]=c);return b};l.functions=l.methods=function(a){var b=[],c;for(c in a)l.isFunction(a[c])&&b.push(c);return b.sort()};l.extend=function(a){t(k.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};l.pick=
function(a){var c={},d=m.apply(b,k.call(arguments,1));t(d,function(b){b in a&&(c[b]=a[b])});return c};l.omit=function(a){var c={},d=m.apply(b,k.call(arguments,1)),e;for(e in a)l.contains(d,e)||(c[e]=a[e]);return c};l.defaults=function(a){t(k.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])});return a};l.clone=function(a){return!l.isObject(a)?a:l.isArray(a)?a.slice():l.extend({},a)};l.tap=function(a,b){b(a);return a};var J=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;
if(null==a||null==b)return a===b;a instanceof l&&(a=a._wrapped);b instanceof l&&(b=b._wrapped);var e=r.call(a);if(e!=r.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==
a)return d[f]==b;c.push(a);d.push(b);var f=0,g=!0;if("[object Array]"==e){if(f=a.length,g=f==b.length)for(;f--&&(g=J(a[f],b[f],c,d)););}else{var e=a.constructor,h=b.constructor;if(e!==h&&(!l.isFunction(e)||!(e instanceof e&&l.isFunction(h)&&h instanceof h)))return!1;for(var k in a)if(l.has(a,k)&&(f++,!(g=l.has(b,k)&&J(a[k],b[k],c,d))))break;if(g){for(k in b)if(l.has(b,k)&&!f--)break;g=!f}}c.pop();d.pop();return g};l.isEqual=function(a,b){return J(a,b,[],[])};l.isEmpty=function(a){if(null==a)return!0;
if(l.isArray(a)||l.isString(a))return 0===a.length;for(var b in a)if(l.has(a,b))return!1;return!0};l.isElement=function(a){return!!(a&&1===a.nodeType)};l.isArray=e||function(a){return"[object Array]"==r.call(a)};l.isObject=function(a){return a===Object(a)};t("Arguments Function String Number Date RegExp".split(" "),function(a){l["is"+a]=function(b){return r.call(b)=="[object "+a+"]"}});l.isArguments(arguments)||(l.isArguments=function(a){return!(!a||!l.has(a,"callee"))});"function"!==typeof/./&&(l.isFunction=
function(a){return"function"===typeof a});l.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};l.isNaN=function(a){return l.isNumber(a)&&a!=+a};l.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==r.call(a)};l.isNull=function(a){return null===a};l.isUndefined=function(a){return void 0===a};l.has=function(a,b){return s.call(a,b)};l.noConflict=function(){a._=d;return this};l.identity=function(a){return a};l.times=function(a,b,c){for(var d=Array(a),e=0;e<a;e++)d[e]=b.call(c,
e);return d};l.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=l.invert(F.escape);var H={escape:RegExp("["+l.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+l.keys(F.unescape).join("|")+")","g")};l.each(["escape","unescape"],function(a){l[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return F[a][b]})}});l.result=function(a,b){if(null==a)return null;
var c=a[b];return l.isFunction(c)?c.call(a):c};l.mixin=function(a){t(l.functions(a),function(b){var c=l[b]=a[b];l.prototype[b]=function(){var a=[this._wrapped];h.apply(a,arguments);a=c.apply(l,a);return this._chain?l(a).chain():a}})};var L=0;l.uniqueId=function(a){var b=++L+"";return a?a+b:b};l.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;
l.template=function(a,b,c){var d;c=l.defaults({},c,l.templateSettings);var e=RegExp([(c.escape||K).source,(c.interpolate||K).source,(c.evaluate||K).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]});c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(g+="';\n"+e+"\n__p+='");f=h+b.length;return b});g+="';\n";c.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h;}if(b)return d(b,l);b=function(a){return d.call(this,a,l)};b.source="function("+(c.variable||"obj")+"){\n"+g+"}";return b};l.chain=function(a){return l(a).chain()};l.mixin(l);t("pop push reverse shift sort splice unshift".split(" "),function(a){var c=b[a];l.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);("shift"==a||"splice"==a)&&0===b.length&&delete b[0];return this._chain?l(b).chain():b}});
t(["concat","join","slice"],function(a){var c=b[a];l.prototype[a]=function(){var a=c.apply(this._wrapped,arguments);return this._chain?l(a).chain():a}});l.extend(l.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);return g.exports};m["paperclip/lib/paper/dom/decor/handlers/css.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._updateCss,b=this;this._updateCss=function(){return a.apply(b,
arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.init=function(){c.__super__.init.call(this);this._currentClasses={};this.$element=$(this.element);return this.clip.bind("css").to(this._updateCss)};c.prototype._updateCss=function(a){var b,c,d;d=[];for(b in a)(c=a[b])?this._currentClasses[b]?d.push(void 0):(this._currentClasses[b]=
1,d.push(this.$element.addClass(b))):this._currentClasses[b]?(delete this._currentClasses[b],d.push(this.$element.removeClass(b))):d.push(void 0);return d};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/base.js"]=function(h,g){var f=function(a,d,c){this.script=a;this.clip=d;this.element=c};f.prototype.init=function(){if(!1!==this.watch)return this.script.watch()};g.exports=f;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/show.js"]=function(h,g){var f,a={}.hasOwnProperty,
d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._show,b=this;this._show=function(){return a.apply(b,arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.init=function(){c.__super__.init.call(this);this.$element=$(this.element);this.clip.bind("show").to(this._show);return this._show(this.clip.get("show"))};
c.prototype._show=function(a){return this.$element.css({display:a?"block":"none"})};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/each.js"]=function(h,g){var f,a,d,c=function(a,b){return function(){return a.apply(b,arguments)}},b={}.hasOwnProperty;a=h("bindable/lib/index.js");f=function(a,b,c,d){this.el=a;this.item=b;this[c]=d};var e=h("paperclip/lib/paper/dom/decor/handlers/base.js"),j=function(){this._removeElement=c(this._removeElement,this);this._insertElement=c(this._insertElement,
this);this._change=c(this._change,this);return d=j.__super__.constructor.apply(this,arguments)},k=j,m=function(){this.constructor=k},r;for(r in e)b.call(e,r)&&(k[r]=e[r]);m.prototype=e.prototype;k.prototype=new m;k.__super__=e.prototype;j.prototype.traverse=!1;j.prototype.init=function(){j.__super__.init.call(this);this.$element=$(this.element);this.tpl=this.$element.html();this.$element.html("");this._source=new a.Collection;this._watchSource();return this.clip.bind("each").to(this._change)};j.prototype._change=
function(a){return this._source.reset(a)};j.prototype._watchSource=function(){var a=this;this._source.transform().map(function(b){var c;c=$("<div>"+a.tpl+"</div>");return new f(c,{item:b},a._source._id(),b[a._source._id()])});return this._source.bind({insert:this._insertElement,remove:this._removeElement})};j.prototype._insertElement=function(a){this.$element.append(a.el);return this.dom.attach(a.item,a.el)};j.prototype._removeElement=function(a){return a.el.remove()};g.exports=j;return g.exports};
m["paperclip/lib/paper/dom/decor/handlers/click.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._onClicked,b=this;this._onClicked=function(){return a.apply(b,arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.watch=!1;c.prototype.init=function(){return $(this.element).bind("click",
this._onClicked)};c.prototype._onClicked=function(){return this.script.update()};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/enter.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._onKeyUp,b=this;this._onKeyUp=function(){return a.apply(b,arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;
b.prototype=new e;b.__super__=d.prototype;c.prototype.init=function(){c.__super__.init.call(this);return $(this.element).bind("keyup",this._onKeyUp)};c.prototype._onKeyUp=function(a){if(13===a.keyCode)return this.script.update()};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/value.js"]=function(h,g){var f,a=function(a,b){return function(){return a.apply(b,arguments)}},d={}.hasOwnProperty,c=h("paperclip/lib/paper/dom/decor/handlers/base.js"),b=function(){this._onElementChange=
a(this._onElementChange,this);this._onValueChange=a(this._onValueChange,this);return f=b.__super__.constructor.apply(this,arguments)},e=b,j=function(){this.constructor=e},k;for(k in c)d.call(c,k)&&(e[k]=c[k]);j.prototype=c.prototype;e.prototype=new j;e.__super__=c.prototype;b.prototype.init=function(){b.__super__.init.call(this);this.clip.bind("value").to(this._onValueChange);return $(this.element).bind("keyup change",this._onElementChange)};b.prototype._onValueChange=function(a){return this.element.value=
this.currentValue=a};b.prototype._onElementChange=function(){var a,b,c,d,e,f;b=this.element.value;if(this.clip.get("bothWays")){e=this.script.references();f=[];c=0;for(d=e.length;c<d;c++)a=e[c],f.push(this.clip.data.set(a.toPathString(),b));return f}};g.exports=b;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/style.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._updateStyle,b=this;this._updateStyle=function(){return a.apply(b,
arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.init=function(){c.__super__.init.call(this);this._currentStyles={};this.$element=$(this.element);return this.clip.bind("style").to(this._updateStyle)};c.prototype._updateStyle=function(a){var b,c,d,e;d={};b=!1;for(c in a)e=a[c],e!==this._currentStyles[c]&&(d[c]=this._currentStyles[c]=
e,b=!0);if(b)return this.$element.css(d)};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/disable.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._show,b=this;this._show=function(){return a.apply(b,arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;
c.prototype.init=function(){c.__super__.init.call(this);this.$element=$(this.element);this.clip.bind("disable").to(this._show);return this._show(this.clip.get("disable"))};c.prototype._show=function(a){return a?this.$element.attr("disabled","disabled"):this.$element.removeAttr("disabled","disabled")};g.exports=c;return g.exports};m["paperclip/lib/paper/dom/decor/handlers/checked.js"]=function(h,g){var f,a={}.hasOwnProperty,d=h("paperclip/lib/paper/dom/decor/handlers/base.js"),c=function(){var a=this._show,
b=this;this._show=function(){return a.apply(b,arguments)};return f=c.__super__.constructor.apply(this,arguments)},b=c,e=function(){this.constructor=b},j;for(j in d)a.call(d,j)&&(b[j]=d[j]);e.prototype=d.prototype;b.prototype=new e;b.__super__=d.prototype;c.prototype.init=function(){c.__super__.init.call(this);this.$element=$(this.element);return this.clip.bind("checked").to(this._show)};c.prototype._show=function(a){return this.element.checked=a};g.exports=c;return g.exports};for(var G=["paperclip/lib/index.js"],
H=G.length;H--;)C(G[H])})();
