// Generated by CoffeeScript 1.6.2
(function() {
  var Compiler, Parser, compiler;

  Parser = require("./parser");

  Compiler = (function() {
    /*
    */
    function Compiler() {
      this._parser = new Parser();
    }

    /*
    */


    Compiler.prototype.compile = function(script) {
      var expression, fn, scripts, _i, _len, _ref;

      expression = this._parser.parse(script);
      scripts = {};
      _ref = expression.items;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        script = _ref[_i];
        fn = eval("(function(){return " + script.options + "})");
        scripts[script.name] = fn;
      }
      return scripts;
    };

    return Compiler;

  })();

  compiler = new Compiler();

  module.exports = function(script) {
    return compiler.compile(script);
  };

}).call(this);
