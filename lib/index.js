// Generated by CoffeeScript 1.6.2
(function() {
  var Clip, Parser, clip, evaluator, expr, p;

  Parser = require("./parser");

  Clip = require("./clip");

  p = new Parser();

  expr = p.parse("text: person.name | append(person.count | negate())");

  clip = new Clip({
    person: {
      count: 1,
      name: "craig"
    }
  }, {
    modifiers: {
      localize: function(value) {
        return "ching chong!";
      },
      append: function(value, text) {
        return value + text;
      },
      capitalize: function(value, count) {
        return String(value).toUpperCase();
      },
      negate: function(value) {
        return -value;
      }
    }
  });

  evaluator = expr.evaluate(clip);

  evaluator.actions[0].bind(function(value) {
    return console.log(value);
  });

}).call(this);
