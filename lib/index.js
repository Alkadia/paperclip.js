// Generated by CoffeeScript 1.6.2
(function() {
  var Clip, Parser, clip, evaluator, expr, i, p, _i;

  Parser = require("./parser");

  Clip = require("./clip");

  p = new Parser();

  expr = p.parse("text: isOld(person.age) | localize() | capitalize(person.count)");

  clip = new Clip({
    isOld: function(age) {
      return age > 0;
    }
  }, {
    modifiers: {
      localize: function(value) {
        return "ching chong!";
      },
      capitalize: function(value, count) {
        return String(value + count).toUpperCase();
      }
    }
  });

  evaluator = expr.evaluate(clip);

  evaluator.actions[0].bind(function(value) {
    return console.log(value);
  });

  for (i = _i = 0; _i <= 10; i = ++_i) {
    clip.data.set("person.count", i);
  }

  clip.data.set("isOld", function() {
    return "NO!";
  });

}).call(this);
