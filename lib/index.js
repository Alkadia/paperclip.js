// Generated by CoffeeScript 1.6.2
(function() {
  var Clip, Parser, clip, evaluator, expr, i, p, _i;

  Parser = require("./parser");

  Clip = require("./clip");

  p = new Parser();

  expr = p.parse("text: person.name | append(person.count | negate()) | capitalize()");

  clip = new Clip({}, {
    modifiers: {
      localize: function(value) {
        return "ching chong!";
      },
      append: function(value, text) {
        return value + text;
      },
      capitalize: function(value, count) {
        return String(value).toUpperCase();
      },
      negate: function(value) {
        return -value;
      }
    }
  });

  evaluator = expr.evaluate(clip);

  evaluator.actions[0].bind(function(value) {
    return console.log(value);
  });

  clip.data.set("person.name", "jake");

  for (i = _i = 0; _i <= 10; i = ++_i) {
    clip.data.set("person.count", i);
  }

  clip.data.set("person.name", "jeff");

  clip.data.set("person.count", 0);

}).call(this);
