// Generated by CoffeeScript 1.6.2
var Context, Html, Paper, asyngleton, build, modifiers, pilot;

Context = require("./context");

Html = require("./nodes/html");

pilot = require("pilot-block");

asyngleton = require("asyngleton");

modifiers = require("./defaultModifiers");

build = require("./load");

Paper = (function() {
  /*
  */
  function Paper(factory) {
    this.factory = factory;
    this.modifiers = modifiers;
    this.node = build(factory);
  }

  /*
  */


  Paper.prototype.load = function(context) {
    return this.node.load(context);
  };

  /*
  */


  Paper.prototype.attach = function(element, context) {
    return this.node.attach(element, context);
  };

  /*
  */


  Paper.prototype.create = function() {
    return new Html();
  };

  return Paper;

})();

module.exports = function(fn) {
  return new Paper(fn);
};

module.exports.Context = Context;

module.exports.registerModifier = function(name, modifier) {
  return modifiers[name] = modifier;
};
