// Generated by CoffeeScript 1.6.2
var Context, Html, Paper, asyngleton, pilot;

Context = require("./context");

Html = require("./nodes/html");

pilot = require("pilot-block");

asyngleton = require("asyngleton");

Paper = (function() {
  /*
  */
  function Paper(factory) {
    this.factory = factory;
    this.node = this.factory(this);
  }

  /*
  */


  Paper.prototype.load = asyngleton(function(context, callback) {
    return this.node.load(context, callback);
  });

  /*
  */


  Paper.prototype.attach = function(element, context, callback) {
    if (callback == null) {
      callback = (function() {});
    }
    return this.node.attach(element, context, callback);
  };

  /*
  */


  Paper.prototype.create = function() {
    return new Html();
  };

  return Paper;

})();

module.exports = function(fn) {
  return new Paper(fn);
};

module.exports.Context = Context;
